# Î›â€‘MÃ¶bius Pentastrat AIâ€‘OS Architecture

> **Forma supremÄƒ a AIâ€‘OS** â€” Organism cibernetic pentastrat extins, coordonat de Î›â€‘Arbiter Core (RL/MPC), care opereazÄƒ pe un ciclu fractal de Ã®ntreÈ›inere È™i Ã®mbunÄƒtÄƒÈ›ire continuÄƒ.

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![Docker](https://img.shields.io/badge/docker-ready-brightgreen.svg)](https://www.docker.com/)

## ðŸŒ€ Core Principle

**Timpul total de lucru este comprimat prin Î›â€‘Time Wrap** astfel Ã®ncÃ¢t costul dominant rÄƒmÃ¢ne **Tâ‚** (iniÈ›iere/detectare), iar cÃ¢È™tigurile se acumuleazÄƒ Ã®n **kÂ·P** (eficienÈ›Äƒ Ã— paralelism). Sistemul se auto-reparÄƒ, auto-optimizeazÄƒ È™i se stabilizeazÄƒ Ã®n bucle fractale controlate.

## ðŸŽ¯ Key Features

- âœ… **Self-Maintaining**: Detect â†’ Quarantine â†’ Improve â†’ Reinvest cycle
- âœ… **Self-Optimizing**: Adaptive metabolism (quantization, pruning, JIT)
- âœ… **Temporal Compression**: Î›â€‘Time Wrap for 95% fast-path, 5% slow-path
- âœ… **Hardware â†” Cloud â†” Edge**: Intelligent resource allocation
- âœ… **Security First**: Attestation, sandboxing, kill-switch
- âœ… **Observable**: Complete telemetry, tracing, root cause analysis
- âœ… **Economic**: ROI-driven reinvestment and budgeting

## ðŸ—ï¸ Architecture

### Pentastrat Core Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Î›â€‘Arbiter Core (8001)                     â”‚
â”‚            Meta-decisional cortex (RL/MPC)                  â”‚
â”‚     Decides: Wrap/Steady/Unwrap | Allocates: P, Budget     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Î›â€‘Regen (8005)â”‚   â”‚ Î›â€‘Optimize (8004)â”‚   â”‚Î›â€‘Balance (8003)â”‚
â”‚  Flux Fractal  â”‚   â”‚   Metabolism     â”‚   â”‚  Homeostasis   â”‚
â”‚ Detectâ†’Improve â”‚   â”‚  kÂ·P maximize    â”‚   â”‚  SLA maintain  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Î›â€‘Entropy (8006) â”‚
                    â”‚ Controlled Stressâ”‚
                    â”‚  A/B, Chaos, Adv â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Extended Modules

- **Î›â€‘TimeWrap (8002)**: Temporal compression engine
- **Î›â€‘Memory Graph (8007)**: Unified persistent memory
- **Î›â€‘Safety Guard (8008)**: Security & governance
- **Î›â€‘Econ (8009)**: Resource & value engine
- **Î›â€‘Explain (8080)**: Observability & causality
- **Î›â€‘Planner (8011)**: Task & trajectory planning
- **Î›â€‘Secure I/O (8010)**: Input/output security gateway

## ðŸš€ Quick Start

### Prerequisites

- Docker & Docker Compose
- Python 3.11+ (for local development)

### Launch the System

```bash
# Clone the repository
git clone https://github.com/manuelstellian-dev/-M-bius-Pentastrat-AI-OS-Architecture.git
cd -M-bius-Pentastrat-AI-OS-Architecture

# Start all services
./tools/scripts/bootstrap.sh

# Or use Docker Compose directly
docker-compose up -d
```

### Access the Services

- **Grafana Dashboard**: http://localhost:3000 (admin/admin)
- **Prometheus**: http://localhost:9090
- **Î›â€‘Arbiter Core**: http://localhost:8001
- **Î›â€‘TimeWrap**: http://localhost:8002
- **All services**: See [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md) for complete list

### Test the System

```bash
# Test Arbiter decision making
curl -X POST http://localhost:8001/decide_mode \
  -H 'Content-Type: application/json' \
  -d '{"theta": 0.82}'

# Test TimeWrap temporal compression
curl -X POST http://localhost:8002/lambda_time \
  -H 'Content-Type: application/json' \
  -d '{"mode":1,"T1":10,"k":2,"P":1.2,"U":8}'

# Test Balance PID control
curl -X POST http://localhost:8003/tune \
  -H 'Content-Type: application/json' \
  -d '{"lat_p99":95.5,"Lmax":100.0}'
```

## ðŸ“Š Î›â€‘Time Formulas

### Wrap Mode (Compression, Î˜ â‰¥ Î¸_high)
```
Î› = Tâ‚Â·log(U) / (1 - 1/(kÂ·P))
Condition: kÂ·P > 1 + Îµ
Effect: Compresses time, increases throughput
```

### Steady Mode (Equilibrium, Î¸_low â‰¤ Î˜ < Î¸_high)
```
Î› = Tâ‚Â·log(U)
Effect: Maintains temporal scale
```

### Unwrap Mode (Expansion, Î˜ < Î¸_low)
```
Î› = Tâ‚Â·log(U) / (1 - kÂ·P)  if |kÂ·P| < 1 - Îµ
Effect: Expands time for debugging
```

## ðŸ”§ Key Metrics

| Metric | Description | Target |
|--------|-------------|--------|
| **Tâ‚** | Initial cost (detect/boot) | Minimize |
| **k** | Efficiency rate per iteration | Maximize |
| **P** | Effective parallelism | Optimize |
| **U** | Utility (scale) | Maximize |
| **Î˜** | Resilience composite | 0.55-1.0 |
| **kÂ·P** | Combined efficiency | >1 for Wrap mode |
| **p99** | Tail latency | <120ms (MVP) |
| **MTTR** | Mean time to repair | <10 min |

## ðŸ›¡ï¸ Security & Governance

- **Attestation Chain**: Boot-to-cloud verification with TPM/TEE support
- **Dual Authorization**: Arbiter + Safety Guard for system changes
- **Sandboxing**: Isolated execution environment for all changes
- **Change Cards**: Complete audit trail for every modification
- **Kill-Switch**: Emergency stop with superior privilege

## ðŸŒ Deployment Topology

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Local     â”‚â”€â”€â”€â”€â–¶â”‚    Cloud     â”‚â—€â”€â”€â”€â”€â”‚     Edge     â”‚
â”‚  (Hardware)  â”‚     â”‚  (Training)  â”‚     â”‚(Distillation)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Low latency  â”‚     â”‚ Heavy computeâ”‚     â”‚ Personalized â”‚
â”‚ Quarantine   â”‚     â”‚ Aggregation  â”‚     â”‚ Federated    â”‚
â”‚ FPGA/uCode   â”‚     â”‚ Planning     â”‚     â”‚ Rollback     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“– Documentation

- [Complete Architecture](docs/ARCHITECTURE.md) - Detailed system design
- [API Reference](docs/API.md) - Endpoint documentation (TODO)
- [Deployment Guide](docs/DEPLOYMENT.md) - Production deployment (TODO)
- [Runbooks](docs/runbooks/) - Operational procedures (TODO)

## ðŸ”¬ Development

### Local Development

```bash
# Install dependencies
pip install -r requirements.txt

# Run a single service
cd services/arbiter
python main.py

# Run tests
pytest tests/
```

### Project Structure

```
.
â”œâ”€â”€ services/           # All microservices
â”‚   â”œâ”€â”€ arbiter/       # Î›â€‘Arbiter Core
â”‚   â”œâ”€â”€ timewrap/      # Î›â€‘TimeWrap
â”‚   â”œâ”€â”€ balance/       # Î›â€‘Balance
â”‚   â”œâ”€â”€ optimize/      # Î›â€‘Optimize
â”‚   â”œâ”€â”€ regen/         # Î›â€‘Regen
â”‚   â”œâ”€â”€ entropy/       # Î›â€‘Entropy
â”‚   â”œâ”€â”€ memory/        # Î›â€‘Memory Graph
â”‚   â”œâ”€â”€ safety/        # Î›â€‘Safety Guard
â”‚   â”œâ”€â”€ econ/          # Î›â€‘Econ
â”‚   â”œâ”€â”€ explain/       # Î›â€‘Explain
â”‚   â”œâ”€â”€ planner/       # Î›â€‘Planner
â”‚   â””â”€â”€ secureio/      # Î›â€‘Secure I/O
â”œâ”€â”€ infra/             # Infrastructure configs
â”‚   â”œâ”€â”€ k8s/          # Kubernetes manifests
â”‚   â”œâ”€â”€ opa/          # Policy definitions
â”‚   â””â”€â”€ prometheus/   # Monitoring config
â”œâ”€â”€ tools/             # Scripts and utilities
â”œâ”€â”€ docs/              # Documentation
â””â”€â”€ tests/             # Test suites
```

## ðŸŽ“ Theoretical Foundation

### Flux Fractal Cycle
```
PREDICT â†’ DETECT â†’ ANALYZE â†’ QUARANTINE â†’ NEUTRALIZE 
    â†“         â†“         â†“           â†“            â†“
â†’ VALIDATE â†’ IMPROVE â†’ REINVEST â†’ MONITOR â†’ PREDICT
```

Each phase recursively contains the entire cycle, creating a **fractal self-improvement system**.

### Utility Function
```
U = wâ‚Â·Throughput + wâ‚‚Â·EnergyEff âˆ’ wâ‚ƒÂ·Latency âˆ’ wâ‚„Â·Risk âˆ’ wâ‚…Â·Cost
```

### Resilience (Î˜)
```
Î˜ = Î±â‚Â·(1âˆ’Lat_p99/Lmax) + Î±â‚‚Â·MTBF/(MTBF+MTTR) + Î±â‚ƒÂ·SecScore + Î±â‚„Â·DriftStability
```

## ðŸ¤ Contributing

Contributions are welcome! Please read [CONTRIBUTING.md](CONTRIBUTING.md) (TODO) for details on our code of conduct and the process for submitting pull requests.

## ðŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ðŸ™ Acknowledgments

- Inspired by biological homeostasis and economic reinvestment principles
- Built on modern microservices and observability patterns
- Designed for hardware-cloud-edge hybrid architectures

## ðŸ“ž Contact

For questions and support, please open an issue on GitHub.

---

**Built with** ðŸ§  **by the Î›â€‘MÃ¶bius team**

*"The supreme form of AIâ€‘OS â€” self-maintaining, self-optimizing, and infinitely scalable"*
